---
layout: post
title: "C++知识点总结"
date: 2026-01-21
categories: [cpp]
excerpt: "记录我作为游戏服务器开发者开始C++复习计划的过程"
---



## 本文说明

这篇文章用来记录C++复习过程中对重要知识点的提炼总结，用于在遗忘时方便快速回顾，在复习过程中持续更新......



## C++基础部分

### **1. C++基本语法**

#### 命名空间的定义和使用

1. 使用有三种方式，推荐使用作用域限定符，可以彻底避免不同作用域内实体重名导致冲突的问题。
2. 命名空间的嵌套。
3. 匿名命名空间(匿名空间)。
4. `extern`外部引入和`include`的区别。
5. 跨模块调用
   - 能跨模块调用的是全局实体和有名命名空间中的实体
   - 不能跨模块调用的是静态实体和匿名空间中的实体

6. 命名空间的作用：
   - 避免命名冲突
   - 相关实体归类
   - 版本控制



#### `const`关键字

1. `const`常量和宏定义常量的区别。 
2. 指向常量的指针`const int * p`和常量指针`int * const p`，只有指向常量的指针才能指向`const`常量。 
3. 数组指针`int (*p)[5]`和指针数组`int* arr[5]`。 
4. 函数指针`int (*p)(int, int)`和指针函数`int* fun(int, int){}`，指针函数要注意确保返回值这个指针指向的变量生命周期比函数要长。



#### 申请、释放堆空间

1. 释放指针后将其置为`NULL`（C++11 后为 `nullptr`），原因：
   - 避免访问悬空指针导致未定义行为
   - 避免double free（指针置空后再次释放空指针是标准允许的，如果没有置空再次释放会导致程序崩溃）
   - 方便使用空指针进行条件检查（指针不为空再进行操作）

2. `malloc`/`free`和`new`/`delete`的区别：
   - 本质
   - 参数
   - 返回值
   - 申请到的内存空间是否会进行初始化

3. `valgrind`工具集里的`memcheck`工具（用来检测内存泄漏、非法内存访问）。



#### 引用

1. 引用和指针的联系与区别。
2. 对引用取地址取到的是变量本体的地址。
3. 引用作为函数的返回值时，返回的引用所绑定的变量生命周期一定要大于函数的生命周期。



#### 类型转换操作符

1. `static_cast`
2. `const_cast`
3. `dynamic_cast`
4. `reinterpret_cast`



#### 函数重载

1. 实现函数重载的条件是参数列表不同，与返回值无关。
2. 实现原理：名字改编机制（函数名相同时，会根据参数的类型，个数，顺序进行改编）；缺点：比C编译器多了一个步骤，效率有所降低。



#### `extern "C"`

1. 使用场景：

   C/C++混合编程时，在C++代码中想要对部分内容按照C的方式编译。



#### 函数默认参数

1. 作用：
   - 函数调用时进行缺省调用
   - 减少函数重载

2. 函数重载时谨慎使用默认参数，避免引起调用的二义性。

   ```c++
   void func(int x);
   void func(int x, int y = 0);
   func(4); // error
   ```

3. 通常把默认参数设置在函数声明中而非定义中；如果声明和定义都设置了默认参数，会报错。
4. 默认参数应**从右至左**逐渐定义，函数被调用时，会从左向右匹配参数。



#### `bool`类型

1. `bool`变量占一个字节的空间。
2. 任何数字或指针值都可以隐式转换为`bool`值，非零值转换为`true`，零值转换为`false`。



#### 内联函数

1. 适用于函数体比较短小并且没有循环等复杂结构的函数，以代码膨胀(拷贝)为代价，省去函数调用的开销。
2. `inline`函数声明和定义都放在头文件；声明和定义处都加上inline，让函数更加明确。



## C++进阶部分

